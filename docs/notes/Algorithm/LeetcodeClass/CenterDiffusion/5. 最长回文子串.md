# 5. 最长回文子串

```js
var longestPalindrome = function (s) {
  const length = s.length;
  if (length <= 1) return s;
  if (length === 2) return s[0] === s[1] ? s : s[0];

  // 最大回文串
  let maxStr = "";

  // 遍历所有可能的回文串
  // 回文串的长度可能是偶数或者奇数
  for (let i = 0; i < length; i++) {
    recursion(i, i);
    recursion(i, i + 1);
  }
  function recursion(l, r) {
    // 从中心往两侧扩展 直到左右边界
    while (l >= 0 && r < length && s[l] === s[r]) {
      l--;
      r++;
    }
    // 因为上面的最后一步会多走一步 所以需要减1 然后在剪切字符串的时候需要再减一
    if (r - l - 1 > maxStr.length) {
      maxStr = s.slice(l + 1, r);
    }
  }
  return maxStr;
};
```
